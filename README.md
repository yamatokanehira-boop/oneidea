# ONEIDEA

> One day, one idea.

「ONEIDEA」は、日々の気づきを「1日1つ」短く記録し、課題×価値で整理して思考の資産を育てるためのiPhone向けPWA（プログレッシブウェブアプリ）です。

## ✨ 特徴

-   **高速な入力**: 1行のメモと2つの分類を選ぶだけで、10秒でアイデアを記録。
-   **iOSネイティブ風UI**: Apple Human Interface Guidelinesを意識した、シンプルで上質なデザイン。
-   **オフライン対応**: オフラインでもアイデアの記録・閲覧が可能。
-   **PWA対応**: Safariの「ホーム画面に追加」機能で、アプリのように利用可能。
-   **週次レビュー**: 週末に1週間のアイデアを振り返り、ベストワンを育てることで思考を定着。
-   **データはあなたのもの**: 全データはデバイス内に保存され、いつでもJSON形式でエクスポート可能。

## 🛠️ 技術スタック

-   **Framework**: [Next.js](https://nextjs.org/) (App Router)
-   **Language**: [TypeScript](https://www.typescriptlang.org/)
-   **Styling**: [Tailwind CSS](https://tailwindcss.com/)
-   **PWA**: [@ducanh2912/next-pwa](https://github.com/DuCanh2912/next-pwa)
-   **Database**: [IndexedDB](https://developer.mozilla.org/ja/docs/Web/API/IndexedDB_API) via [Dexie.js](https://dexie.org/)
-   **State Management**: [Zustand](https://github.com/pmndrs/zustand)
-   **Date Handling**: [date-fns](https://date-fns.org/)
-   **Icons**: [lucide-react](https://lucide.dev/)

## 🚀 起動手順

### 1. 依存関係のインストール

プロジェクトルートで、`pnpm` (推奨) または `npm` を使ってパッケージをインストールします。

```bash
# pnpm を使う場合
pnpm install

# npm を使う場合
npm install
```

### 2. 開発サーバーの起動

```bash
pnpm dev
# or
npm run dev
```

ブラウザで `http://localhost:3000` を開くと、アプリケーションが表示されます。

## 📱 iPhoneでホーム画面に追加する手順

1.  iPhoneの **Safari** で、デプロイしたURLまたはローカルネットワーク上の開発URLを開きます。
2.  画面下部の中央にある **共有アイコン** (四角から矢印が上に出ているアイコン) をタップします。
3.  メニューをスクロールし、「**ホーム画面に追加**」をタップします。
4.  右上の「追加」をタップします。

これでホーム画面にアプリアイコンが追加され、ネイティブアプリのように起動できます。

## ☁️ Vercelへのデプロイ

1.  [Vercel](https://vercel.com/) にログインし、このリポジトリをインポートします。
2.  フレームワークプリセットとして「Next.js」が自動で選択されます。
3.  環境変数は特に設定不要です。
4.  「Deploy」ボタンをクリックすると、ビルドとデプロイが自動的に実行されます。

## ⚠️ 注意事項

### Service Workerとキャッシュ

-   PWAのService Workerは、一度有効になると強力にキャッシュを保持します。
-   コードを更新して再デプロイした後、ブラウザで古いバージョンが表示され続ける場合は、以下の手順でキャッシュをクリアしてください。
    -   **PC (Chrome/Edge):** 開発者ツールを開き、「Application」→「Service Workers」で「Unregister」を実行し、ページをリロード。
    -   **iPhone (PWA):** アプリを一度終了し、再度開くと新しいバージョンに更新される場合があります。確実な更新のためには、一度ホーム画面からアプリを削除し、再度「ホーム画面に追加」を行うのが最も手軽です。

### IndexedDBの制約

-   Safariの**プライベートブラウジングモード**ではIndexedDBが無効になるため、データを保存できません。その場合、アプリはデータの永続化ができない旨を通知します（要実装）。
-   デバイスのストレージ容量が逼迫すると、ブラウザがIndexedDBのデータを削除することがあります。重要なデータは定期的にエクスポート機能でバックアップすることを推奨します。

---
Generated by Gemini CLI.
